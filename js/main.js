'use strict';var news,works,worksApi,circles=!0;function categoriesFilter(){$('.news-categories a, .works-categories a').click(function(a){a.preventDefault();var b=$(a.currentTarget),c=b.parent().hasClass('works-categories')?'works':'news',d=parseInt(b.attr('data-category'));b.hasClass('active')||($('.'+c+'-categories a').removeClass('active'),b.addClass('active')),0===d?$('.'+c+'-overflow .item').hide(0,function(){$('.'+c+'-overflow .item').show(0)}):$('.'+c+'-overflow .item').hide(0,function(){$('.'+c+'-overflow .item[data-category~='+d+']').show(0)}),setTimeout(function(){'works'==c?worksApi.reinitialise():news.reinitialise()},400)})}function makeCircle(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:Function;$(a).circleProgress({value:b/100,size:64,thickness:6,lineCap:'round',startAngle:-Math.PI/2,emptyFill:'transparent',fill:c}),$(a).find('span').text(b),setTimeout(function(){d()},800)}function makeCircles(){setTimeout(function(){makeCircle('.circle-1',circle_1,'#e96656',function(){makeCircle('.circle-2',circle_2,'#34d293',function(){makeCircle('.circle-3',circle_3,'#3ab0e2',function(){makeCircle('.circle-4',circle_4,'#e7ac44')})})})},800),circles=!1}function fullPage(){$('#fullpage').fullpage({menu:'#scroll-menu',lockAnchors:!1,anchors:['empty','main','about','wwd','team','testimonials','about-us','works','news','contacts'],navigation:!0,navigationPosition:'left',navigationTooltips:['empty','<div class="home"></div>','\u041E \u043D\u0430\u0441','\u0427\u0442\u043E \u043C\u044B \u0440\u0435\u0448\u0430\u0435\u043C?','\u041D\u0430\u0448\u0430 \u043A\u043E\u043C\u0430\u043D\u0434\u0430','\u041E\u0442\u0437\u044B\u0432\u044B \u0438 \u043A\u043B\u0438\u0435\u043D\u0442\u044B','\u041F\u043E\u0447\u0435\u043C\u0443 \u043C\u044B?','\u0440\u0430\u0431\u043E\u0442\u044B','\u043D\u043E\u0432\u043E\u0441\u0442\u0438','\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u044B'],showActiveTooltip:!0,slidesNavigation:!0,slidesNavPosition:'bottom',css3:!1,afterLoad:function afterLoad(a,b){var c=$('#fp-nav li:nth-child(4),#fp-nav li:nth-child(5),#fp-nav li:nth-child(6),#fp-nav li:nth-child(7)');[4,5,6,7].includes(b)&&c.fadeIn(),1===b&&$.fn.fullpage.silentMoveTo('main',0),7===b&&circles&&makeCircles()},onLeave:function onLeave(a,b,c){var d=$('#fp-nav li:nth-child(4),#fp-nav li:nth-child(5),#fp-nav li:nth-child(6),#fp-nav li:nth-child(7)');console.log(Math.abs($('#fullpage section:nth-child('+b+')').offset().top)),(7===b&&'up'===c||3===b&&'down'===c||3===b&&2!==a)&&d.fadeIn(),(8<=b&&'down'===c||2===b)&&d.fadeOut(),3<b&&8>b?$('#fp-nav li:nth-child(3) a').addClass('orange'):$('#fp-nav li:nth-child(3) a').removeClass('orange'),7===b&&circles&&makeCircles(),$('.triangles').animate({top:(b-2)*$('#fullpage').height()},{duration:700,easing:'easeInOutCubic'}),$('.black-triangle').animate({top:(b-2)*$('#fullpage').height()},{duration:700,easing:'easeInOutCubic'})}}),$('.scroll-mouse, .scroll-down-btn').click(function(a){a.preventDefault(),$.fn.fullpage.moveSectionDown()})}function moveBubbles(){$('.triangles ul img').each(function(){var a=Math.ceil(100*Math.random()),b=Math.ceil(100*Math.random()),c=Math.ceil(2*Math.random());1==c?$(this).transition({x:'+='+a+'',y:'+='+b+''},8e3,'linear'):$(this).transition({x:'-='+a+'',y:'-='+b+''},8e3,'linear')})}$(function(){$('.toggle-btn').click(function(){$('.right-menu').fadeToggle(),$('.toggle-btn').toggleClass('active')}),setTimeout(function(){$('.preloader-wrapper').fadeOut()},1700),news=$('.news-overflow').jScrollPane().data('jsp'),setInterval(function(){moveBubbles()},1e3);var a=0;$('.clients-overflow img').each(function(b,c){$(c).height()>a&&(a=$(c).height(),$('.clients-overflow .jspContainer').height(a+25))}),$('body').hasClass('home')&&(setTimeout(function(){var b=$('.testimonials-overflow').jScrollPane(),c=$('.clients-overflow').jScrollPane(),d=b.data('jsp'),f=c.data('jsp');works=$('.works-overflow').jScrollPane(),worksApi=works.data('jsp'),b.bind('mousewheel',function(g,h){return d.scrollByX(-300*h,!0),!1}),c.bind('mousewheel',function(g,h){return f.scrollByX(-300*h,!0),!1}),works.bind('mousewheel',function(g,h){return worksApi.scrollByX(-300*h,!0),!1}),categoriesFilter()},1e3),$('input[type=tel]').mask('+7 (999) 999-99-99'),991<screen.availWidth/*&&768<=screen.availHeight*/?fullPage():makeCircles()),$('#scene').parallax({frictionX:0.1,frictionY:0.1}),moveBubbles()});